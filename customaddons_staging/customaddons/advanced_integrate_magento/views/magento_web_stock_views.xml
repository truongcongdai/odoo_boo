<?xml version="1.0" encoding="UTF-8" ?>
<odoo>

    <record id="magento_web_stock_view_search" model="ir.ui.view">
        <field name="name">magento.web.stock.view.search</field>
        <field name="model">magento.web.stock</field>
        <field name="arch" type="xml">
            <search string="Magento Web Stock">
                <field name="full_name" string="Name" />
                <field name="channel_id" string="Channel" domain="[('name', 'ilike', self)]"/>
                <group expand="0" string="Group By">
                    <filter string="Channel" name="inactive" context="{'group_by': 'channel_id'}" />
                </group>
            </search>
        </field>
    </record>

    <record id="magento_web_stock_view_tree" model="ir.ui.view">
        <field name="name">magento.web.stock.view.tree</field>
        <field name="model">magento.web.stock</field>
        <field name="arch" type="xml">
            <tree string="M2 Web Stock">
                <field name="full_name" />
                <field name="channel_id" />
                <field name="external_id" />
            </tree>
        </field>
    </record>

    <record id="magento_web_stock_view_form" model="ir.ui.view">
        <field name="name">magento.web.stock.view.form</field>
        <field name="model">magento.web.stock</field>
        <field name="arch" type="xml">
            <form string="M2 Web Stock">
                <header>
                    <button name="action_push_external" string="PUSH EXTERNAL" class="oe_highlight"
                            states="draft" type="object"/>
                    <button name="action_push_external" string="PUSH EXTERNAL"
                            states="sync" type="object"/>
                    <field name="state" widget="statusbar" />
                </header>
                <sheet>
                    <h1>
                        <label for="full_name" class="oe_edit_only" />
                        <field name="full_name" />
                    </h1>
                    <label for="name" class="oe_edit_only" />
                    <field name="name" class="oe_edit_only" />
                    <div class="alert alert-info" role="alert">
                        <b>
                            Note:
                        </b>
                        <ul>
                            <li>
                                Please take note that the external ID must be the same as external system,
                                or Odoo will fail to export data.
                            </li>
                            <li>
                                Error will be shown in logging area.
                            </li>
                        </ul>
                    </div>
                    <group>
                        <group string="External System ID">
                            <field name="external_id" nolabel="1" />
                        </group>
                        <group string="Channel">
                            <field name="channel_id" nolabel="1" />
                        </group>
                    </group>
                    <notebook>
                        <page name="warehouses" string="Warehouses">
                            <field name="warehouse_ids" readonly="1" >
                                <tree>
                                    <field name="name" />
                                    <field name="lot_stock_id" />
                                    <field name="partner_id" />
                                    <field name="company_id" invisible="1" />
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" groups="base.group_user"/>
                    <field name="message_ids"/>
                </div>
            </form>
        </field>
    </record>

    <record id="magento_web_stock_action" model="ir.actions.act_window">
        <field name="name">Magento 2x Web Stock</field>
        <field name="res_model">magento.web.stock</field>
        <field name="view_mode">tree,form</field>
    </record>

    <menuitem id="magento_web_stock_menu" name="Magento 2x Web Stock" parent="stock.menu_stock_config_settings"
              action="magento_web_stock_action" sequence="1000"/>

</odoo>
