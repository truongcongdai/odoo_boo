<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="copy_segment_rules_form_view" model="ir.ui.view">
            <field name="name">copy.rule.conf.form</field>
            <field name="model">copy.rule.conf</field>
            <field name="arch" type="xml">
                <form string="Copy RFM Rules">
                    <sheet>
                        <group>
                            <group>
                                <field name="copy_rules_from" widget="radio" required="1"/>
                                <field name="rule_company_id" string="From Company"
                                       attrs="{'invisible':[('copy_rules_from','!=','Company')], 'required':[('copy_rules_from','=','Company')]}"
                                       options="{'no_create': True,'no_create_edit': True}"/>
                                <field name="rule_team_id" string="From Sales Team"
                                       attrs="{'invisible':[('copy_rules_from','!=','Sales Team')], 'required':[('copy_rules_from','=','Sales Team')]}"
                                       options="{'no_create': True,'no_create_edit': True}"/>
                            </group>
                            <group>
                                <field name="copy_rules_to" widget="radio" required="1"/>
                                <field name="to_rule_company_id" string="To Company"
                                       attrs="{'invisible':[('copy_rules_to','!=','Company')],'required':[('copy_rules_to','=','Company')]}"
                                       options="{'no_create': True,'no_create_edit': True}"/>
                                <field name="to_rule_team_id" string="To Sales Team"
                                       attrs="{'invisible':[('copy_rules_to','!=','Sales Team')],'required':[('copy_rules_to','=','Sales Team')]}"
                                       options="{'no_create': True,'no_create_edit': True}"/>

                            </group>
                        </group>
                    </sheet>
                    <footer>
                        <button name="copy_rules"
                                string="Copy Rules"

                                type="object" class="oe_highlight"/>
                    </footer>
                </form>
            </field>
        </record>

        <record id="copy_segment_rules_act_window" model="ir.actions.act_window">
            <field name="name">Copy RFM Rules</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">copy.rule.conf</field>
            <field name="target">new</field>
            <field name="view_mode">form</field>
        </record>

        <menuitem name="Copy RFM Rules"
                  id="copy_segment_rules_menu"
                  parent="setu_rfm_analysis_configuration_menu"
                  action="copy_segment_rules_act_window"
                  groups="setu_rfm_analysis.group_dynamic_rules"
        />

    </data>
</odoo>