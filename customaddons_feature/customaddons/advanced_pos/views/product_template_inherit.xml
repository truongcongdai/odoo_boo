<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="action_select_sync_push_magento" model="ir.actions.server">
            <field name="name">Sync Push Magento</field>
            <field name="model_id" ref="model_product_template"/>
            <field name="binding_model_id" ref="model_product_template"/>
            <field name="binding_view_types">list</field>
            <field name="state">code</field>
            <field name="code">records.select_sync_push_magento()</field>
        </record>

        <record id="product_template_form_inherit" model="ir.ui.view">
            <field name="name">product.template.form.inherit</field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="product.product_template_only_form_view"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='detailed_type']" position="after">
                    <field name="ma_san_pham" required="1"/>
                    <field name="thuong_hieu" required="1"/>
                    <field name="dong_hang"/>
                    <field name="season" required="1"/>
                    <field name="chat_lieu"/>
                    <field name="item_code" invisible="1"/>
                </xpath>

                <xpath expr="//field[@name='default_code']" position="attributes">
                    <attribute name="string">SKU</attribute>
<!--                    <attribute name="required">1</attribute>-->
                </xpath>

                <xpath expr="//field[@name='default_code']" position="after">
                    <field name="chung_loai"/>
                    <field name="ma_cu" required="1"/>
<!--                    <field name="ma_vat_tu"/>-->
                    <field name="sku" invisible="1"/>
                    <field name="bo_suu_tap"/>
                </xpath>

                <xpath expr="//field[@name='barcode']" position="after">
                    <field name="mau_sac"/>
                    <field name="kich_thuoc"/>
                    <field name="gioi_tinh"/>
                </xpath>

                <xpath expr="//field[@name='gioi_tinh']" position="after">
                    <field name="is_product_green"/>
                </xpath>

                <xpath expr="//field[@name='company_id']" position="after">
                    <field name="check_sync_product" groups="base.group_no_one"/>
                </xpath>

<!--                <xpath expr="//field[@name='attribute_line_ids']//field[@name='value_ids']" position="attributes">-->
<!--                    <attribute name="readonly">1</attribute>-->
<!--                </xpath>-->
                <xpath expr="//page[@name='variants']/field[@name='attribute_line_ids']/tree/field[@name='value_ids']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//page[@name='variants']/field[@name='attribute_line_ids']/tree/field[@name='value_ids']" position="after">
                    <field name="value_ids_related" widget="many2many_tags"
                           options="{'no_create_edit': True, 'color_field': 'color'}"
                           context="{'default_attribute_id': attribute_id, 'show_attribute': False}"
                           attrs="{'readonly': [('id', '!=', False )]}"/>
                </xpath>
                <xpath expr="//field[@name='attribute_line_ids']/tree" position="attributes">
                    <attribute name="delete">0</attribute>
                </xpath>
                <xpath expr="//field[@name='attribute_line_ids']//button[@name='action_open_attribute_values']" position="after">
                    <button string="Thêm biến thể" class="float-right btn-secondary" type="object" name="action_add_variant_product_template"/>
                </xpath>
            </field>
        </record>

        <record id="product_template_form_view_procurement_button_inherit" model="ir.ui.view">
            <field name="name">product.template.form.view.procurement.button.inherit</field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="stock.product_template_form_view_procurement_button"/>
            <field name="arch" type="xml">
                <xpath expr="//button[@name='%(stock.action_product_replenish)d']" position="attributes">
                      <attribute name="groups">base.group_system</attribute>
                </xpath>
            </field>
        </record>

    </data>
</odoo>
